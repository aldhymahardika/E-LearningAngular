<p-confirmDialog [style]="{width: '50vw'}"></p-confirmDialog>
<div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center">
  <!-- Mask -->
  <span class="mask bg-lawen opacity-8"></span>
  <!-- Header container -->
  <div class="container-fluid d-flex align-items-center">
    <div class="row">
      <div class="row align-items-center">
        <div class="col-12">
          <h1 class="display-1" style="color: white;">List Topic Materi & Quiz</h1>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid mt--7">
  <div class="row">
    <div class="col-xl-12 order-xl-1">
      <div class="card bg-card shadow">
        <div class="card-header bg-card border-0">
          <div class="row align-items-center">
            <div class="col-12">
              <button class="btn btn-icon btn-3 btn-primary" type="button" (click)="getBack()">
                <span class="btn-inner--icon"><i class="ni ni-bold-left"></i></span>
                <span class="btn-inner--text">Kembali</span>
              </button>
            </div>
          </div>
        </div>
        <div class="card-body bg-card">
            <div class="pl-lg-12">
              <div class="row">
                <div class="col">
                <p-tabView>
                  <p-tabPanel header="Materi" leftIcon="ni ni-archive-2 text-dark">
                    <div class="col s12 m12 l12">
                      <div class=" dataTables_wrapper "> 
                        <div class="card-header border-0">
                          <h3 class="mb-0">Data Materi</h3>
                        </div>
                        <div *ngIf="!spinner2 ; else showSpinner" class="table-responsive">
                          <table class="row-border hover dataTable no-footer" datatable [dtOption]="dtOption" [dtTrigger]="dtTrigger">
                            <thead>
                              <tr style="color: black;" class="bg-th">
                                <th scope="col">Hari</th>
                                <th scope="col">Topic</th>
                                <th scope="col">Waktu</th>
                                <th scope="col">Tanggal</th>
                                <th scope="col"></th>  
                                <!-- <th scope="col"></th> -->
                                <!-- <th scope="col"></th> -->
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let data of dataFile">
                                <td>{{data.day}}</td>
                                <td>{{data.topic}}</td>
                                <td>{{data.time}}</td>
                                <td>{{data.date | date : 'dd-MM-yyyy'}}</td>                  
                                <td>
                                  <p-splitButton label="Detail" icon="pi pi-info" (onClick)="getDetailMateri(data.id)" [model]="getMenu(data.id)"></p-splitButton>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                    </div>
                    <ng-template #showSpinner>
                      <div class="text-center">
                      <p-progressSpinner [style]="{width: '50px', height: '50px'}" strokeWidth="8" fill="#EEEEEE" animationDuration=".5s"></p-progressSpinner>
                    </div>
                    </ng-template>
                  </div>
                </div>
                  </p-tabPanel>
                  <p-tabPanel header="Quiz" leftIcon="ni ni-archive-2 text-dark">
                    <div class="col s12 m12 l12">
                      <div class=" dataTables_wrapper "> 
                        <div class="card-header border-0">
                          <h3 class="mb-0">Data Kuis</h3>
                        </div>
                        <div *ngIf="!spinner2 ; else showSpinner" class="table-responsive">
                          <table class="row-border hover dataTable no-footer" datatable [dtOption]="dtOption" [dtTrigger]="dtTrigger">
                            <thead>
                              <tr style="color: black;" class="bg-th">
                                <th scope="col">Judul</th>
                                <th scope="col">Jenis</th>
                                <th scope="col">Start Date</th>
                                <th scope="col">End Date</th>
                                <th scope="col">Start Time</th>
                                <th scope="col">End Time</th>
                                <th scope="col"></th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let data of dataKuis">
                                <td>{{data.title}}</td>
                                <td>{{data.type}}</td>
                                <td>{{data.startDate | date : 'dd-MM-yyyy'}}</td>
                                <td>{{data.endDate | date : 'dd-MM-yyyy'}}</td>
                                <td>{{data.startTime}}</td>
                                <td>{{data.endTime}}</td>                
                                <td>
                                  <p-splitButton label="Detail" icon="pi pi-info" (onClick)="getDetailKuis(data.header_id)" [model]="getMenuKuis(data.header_id)"></p-splitButton>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                    </div>
                    <ng-template #showSpinner>
                      <div class="text-center">
                      <p-progressSpinner [style]="{width: '50px', height: '50px'}" strokeWidth="8" fill="#EEEEEE" animationDuration=".5s"></p-progressSpinner>
                    </div>
                    </ng-template>
                  </div>
                </div>
                <hr class="my-4">
                <div class="col s12 m12 l12">
                  <div class=" dataTables_wrapper "> 
                    <div class="card-header border-0">
                      <h3 class="mb-0">Data Ujian</h3>
                    </div>
                    <div *ngIf="!spinner2 ; else showSpinner" class="table-responsive">
                      <table class="row-border hover dataTable no-footer" datatable [dtOption]="dtOption" [dtTrigger]="dtTrigger">
                        <thead>
                          <tr style="color: black;" class="bg-th" >
                            <th scope="col">Judul</th>
                            <th scope="col">Jenis</th>
                            <th scope="col">Start Date</th>
                            <th scope="col">End Date</th>
                            <th scope="col">Start Time</th>
                            <th scope="col">End Time</th>
                            <th scope="col"></th>
                          </tr>
                        </thead>
                        <tbody >
                          <tr *ngFor="let data of dataUjian">
                            <td>{{data.title}}</td>
                            <td>{{data.type}}</td>
                            <td>{{data.startDate | date : 'dd-MM-yyyy'}}</td>
                            <td>{{data.endDate | date : 'dd-MM-yyyy'}}</td>
                            <td>{{data.startTime}}</td>
                            <td>{{data.endTime}}</td>                
                            <td>
                              <p-splitButton label="Detail" icon="pi pi-info" (onClick)="getDetailKuis(data.header_id)" [model]="getMenuKuis(data.header_id)"></p-splitButton>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                </div>
                <ng-template #showSpinner>
                  <div class="text-center">
                  <p-progressSpinner [style]="{width: '50px', height: '50px'}" strokeWidth="8" fill="#EEEEEE" animationDuration=".5s"></p-progressSpinner>
                </div>
                </ng-template>
              </div>
            </div>
                    </p-tabPanel>
                  </p-tabView> 
      </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
